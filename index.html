<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>CodeRunner</title>
	<link rel="stylesheet" href="main.css">
	<script type+"text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

</head>
<body>
<div id="wrapper">
	<div id="menuBar">	
		<div id="logo">CodeRunner</div>
	

	<div id="button">
		<button id="runButton">Run</button>
	</div>

	<ul id="toggles">
		<li class="toggle selected">HTML</li>
		<li class="toggle">CSS</li>
		<li class="toggle selected" style="border:none">RESULT</li>
	</ul>
	</div>

	<div class="clear"></div>

	<div class="codeContainer" id="HTMLContainer">
		<div class="codeLabel">HTML</div>
		<textarea  id="htmlCode" cols="30" rows="10"></textarea>
	</div>
	<div class="codeContainer" id="CSSContainer">
		<div class="codeLabel">CSS</div>
		<textarea id="cssCode" cols="30" rows="10"></textarea>
	</div>

	<div class="codeContainer" id="RESULTContainer">
		<div class="codeLabel">RESULT</div>
		<iframe id="resultFrame" src="" frameborder="0"></iframe>
	</div>

<script>
	var windowHeight = $(window).height();
	var menuBarHeight = $("#menuBar").height();
	var codeContainerHeight=windowHeight-menuBarHeight;
	$(".codeContainer").height(codeContainerHeight+"px");

	$(".toggle").click(function(){
		$(this).toggleClass("selected");

		var activeDiv = $(this).html();
		$("#"+activeDiv+"Container").toggle();

		var showingDivs = $(".codeContainer").filter(function(){
			return($(this).css("display")!="none");
		}).length;

		var width = 100/showingDivs;
		$(".codeContainer").width(width+"%");
	});

	$("#runButton").click(function(){
		$("iframe").contents().find("html").html('<style>'+$("#cssCode").val()+'</style>'+$("#htmlCode").val());
	});
</script>

</div>
</body>
</html>
